# SPDX-License-Identifier: MIT

# This file was generated by
# scripts/copy_from_upstream/copy_from_upstream.py

set(_ML_DSA_OBJS "")

if(OQS_ENABLE_SIG_ml_dsa_44)
    add_library(ml_dsa_44_ref OBJECT sig_ml_dsa_44.c mldsa-native_ml-dsa-44_ref/mldsa/ct.c mldsa-native_ml-dsa-44_ref/mldsa/debug.c mldsa-native_ml-dsa-44_ref/mldsa/ntt.c mldsa-native_ml-dsa-44_ref/mldsa/packing.c mldsa-native_ml-dsa-44_ref/mldsa/poly.c mldsa-native_ml-dsa-44_ref/mldsa/polyvec.c mldsa-native_ml-dsa-44_ref/mldsa/sign.c)
    target_compile_options(ml_dsa_44_ref PUBLIC -DMLDSA_MODE=2 -DMLD_CONFIG_FILE="../integration/liboqs/config_c.h")
    target_include_directories(ml_dsa_44_ref PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-44_ref)
    target_include_directories(ml_dsa_44_ref PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_44_ref PUBLIC -DMLDSA_MODE=2 -DMLD_CONFIG_FILE="../integration/liboqs/config_c.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_44_ref>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_44_x86_64)
    add_library(ml_dsa_44_x86_64 OBJECT mldsa-native_ml-dsa-44_x86_64/mldsa/ct.c mldsa-native_ml-dsa-44_x86_64/mldsa/debug.c mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/consts.c mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/intt.S mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/ntt.S mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/nttunpack.S mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/poly_decompose_32_avx2.c mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/poly_decompose_88_avx2.c mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/rej_uniform_avx2.c mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/rej_uniform_eta2_avx2.c mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/rej_uniform_eta4_avx2.c mldsa-native_ml-dsa-44_x86_64/mldsa/native/x86_64/src/rej_uniform_table.c mldsa-native_ml-dsa-44_x86_64/mldsa/ntt.c mldsa-native_ml-dsa-44_x86_64/mldsa/packing.c mldsa-native_ml-dsa-44_x86_64/mldsa/poly.c mldsa-native_ml-dsa-44_x86_64/mldsa/polyvec.c mldsa-native_ml-dsa-44_x86_64/mldsa/sign.c)
    target_include_directories(ml_dsa_44_x86_64 PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-44_x86_64)
    target_include_directories(ml_dsa_44_x86_64 PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_44_x86_64 PRIVATE -mavx2 -mbmi2 -mpopcnt)
    target_compile_options(ml_dsa_44_x86_64 PUBLIC -DMLDSA_MODE=2 -DMLD_CONFIG_FILE="../integration/liboqs/config_x86_64.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_44_x86_64>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_44_aarch64)
    add_library(ml_dsa_44_aarch64 OBJECT mldsa-native_ml-dsa-44_aarch64/mldsa/ct.c mldsa-native_ml-dsa-44_aarch64/mldsa/debug.c mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/aarch64_zetas.c mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/intt.S mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/ntt.S mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/poly_decompose_32_asm.S mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/poly_decompose_88_asm.S mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/rej_uniform_asm.S mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/rej_uniform_eta2_asm.S mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/rej_uniform_eta4_asm.S mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/rej_uniform_eta_table.c mldsa-native_ml-dsa-44_aarch64/mldsa/native/aarch64/src/rej_uniform_table.c mldsa-native_ml-dsa-44_aarch64/mldsa/ntt.c mldsa-native_ml-dsa-44_aarch64/mldsa/packing.c mldsa-native_ml-dsa-44_aarch64/mldsa/poly.c mldsa-native_ml-dsa-44_aarch64/mldsa/polyvec.c mldsa-native_ml-dsa-44_aarch64/mldsa/sign.c)
    target_include_directories(ml_dsa_44_aarch64 PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-44_aarch64)
    target_include_directories(ml_dsa_44_aarch64 PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_44_aarch64 PRIVATE)
    target_compile_options(ml_dsa_44_aarch64 PUBLIC -DMLDSA_MODE=2 -DMLD_CONFIG_FILE="../integration/liboqs/config_aarch64.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_44_aarch64>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_65)
    add_library(ml_dsa_65_ref OBJECT sig_ml_dsa_65.c mldsa-native_ml-dsa-65_ref/mldsa/ct.c mldsa-native_ml-dsa-65_ref/mldsa/debug.c mldsa-native_ml-dsa-65_ref/mldsa/ntt.c mldsa-native_ml-dsa-65_ref/mldsa/packing.c mldsa-native_ml-dsa-65_ref/mldsa/poly.c mldsa-native_ml-dsa-65_ref/mldsa/polyvec.c mldsa-native_ml-dsa-65_ref/mldsa/sign.c)
    target_compile_options(ml_dsa_65_ref PUBLIC -DMLDSA_MODE=3 -DMLD_CONFIG_FILE="../integration/liboqs/config_c.h")
    target_include_directories(ml_dsa_65_ref PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-65_ref)
    target_include_directories(ml_dsa_65_ref PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_65_ref PUBLIC -DMLDSA_MODE=3 -DMLD_CONFIG_FILE="../integration/liboqs/config_c.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_65_ref>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_65_x86_64)
    add_library(ml_dsa_65_x86_64 OBJECT mldsa-native_ml-dsa-65_x86_64/mldsa/ct.c mldsa-native_ml-dsa-65_x86_64/mldsa/debug.c mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/consts.c mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/intt.S mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/ntt.S mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/nttunpack.S mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/poly_decompose_32_avx2.c mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/poly_decompose_88_avx2.c mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/rej_uniform_avx2.c mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/rej_uniform_eta2_avx2.c mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/rej_uniform_eta4_avx2.c mldsa-native_ml-dsa-65_x86_64/mldsa/native/x86_64/src/rej_uniform_table.c mldsa-native_ml-dsa-65_x86_64/mldsa/ntt.c mldsa-native_ml-dsa-65_x86_64/mldsa/packing.c mldsa-native_ml-dsa-65_x86_64/mldsa/poly.c mldsa-native_ml-dsa-65_x86_64/mldsa/polyvec.c mldsa-native_ml-dsa-65_x86_64/mldsa/sign.c)
    target_include_directories(ml_dsa_65_x86_64 PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-65_x86_64)
    target_include_directories(ml_dsa_65_x86_64 PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_65_x86_64 PRIVATE -mavx2 -mbmi2 -mpopcnt)
    target_compile_options(ml_dsa_65_x86_64 PUBLIC -DMLDSA_MODE=3 -DMLD_CONFIG_FILE="../integration/liboqs/config_x86_64.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_65_x86_64>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_65_aarch64)
    add_library(ml_dsa_65_aarch64 OBJECT mldsa-native_ml-dsa-65_aarch64/mldsa/ct.c mldsa-native_ml-dsa-65_aarch64/mldsa/debug.c mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/aarch64_zetas.c mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/intt.S mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/ntt.S mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/poly_decompose_32_asm.S mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/poly_decompose_88_asm.S mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/rej_uniform_asm.S mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/rej_uniform_eta2_asm.S mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/rej_uniform_eta4_asm.S mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/rej_uniform_eta_table.c mldsa-native_ml-dsa-65_aarch64/mldsa/native/aarch64/src/rej_uniform_table.c mldsa-native_ml-dsa-65_aarch64/mldsa/ntt.c mldsa-native_ml-dsa-65_aarch64/mldsa/packing.c mldsa-native_ml-dsa-65_aarch64/mldsa/poly.c mldsa-native_ml-dsa-65_aarch64/mldsa/polyvec.c mldsa-native_ml-dsa-65_aarch64/mldsa/sign.c)
    target_include_directories(ml_dsa_65_aarch64 PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-65_aarch64)
    target_include_directories(ml_dsa_65_aarch64 PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_65_aarch64 PRIVATE)
    target_compile_options(ml_dsa_65_aarch64 PUBLIC -DMLDSA_MODE=3 -DMLD_CONFIG_FILE="../integration/liboqs/config_aarch64.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_65_aarch64>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_87)
    add_library(ml_dsa_87_ref OBJECT sig_ml_dsa_87.c mldsa-native_ml-dsa-87_ref/mldsa/ct.c mldsa-native_ml-dsa-87_ref/mldsa/debug.c mldsa-native_ml-dsa-87_ref/mldsa/ntt.c mldsa-native_ml-dsa-87_ref/mldsa/packing.c mldsa-native_ml-dsa-87_ref/mldsa/poly.c mldsa-native_ml-dsa-87_ref/mldsa/polyvec.c mldsa-native_ml-dsa-87_ref/mldsa/sign.c)
    target_compile_options(ml_dsa_87_ref PUBLIC -DMLDSA_MODE=5 -DMLD_CONFIG_FILE="../integration/liboqs/config_c.h")
    target_include_directories(ml_dsa_87_ref PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-87_ref)
    target_include_directories(ml_dsa_87_ref PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_87_ref PUBLIC -DMLDSA_MODE=5 -DMLD_CONFIG_FILE="../integration/liboqs/config_c.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_87_ref>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_87_x86_64)
    add_library(ml_dsa_87_x86_64 OBJECT mldsa-native_ml-dsa-87_x86_64/mldsa/ct.c mldsa-native_ml-dsa-87_x86_64/mldsa/debug.c mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/consts.c mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/intt.S mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/ntt.S mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/nttunpack.S mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/poly_decompose_32_avx2.c mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/poly_decompose_88_avx2.c mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/rej_uniform_avx2.c mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/rej_uniform_eta2_avx2.c mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/rej_uniform_eta4_avx2.c mldsa-native_ml-dsa-87_x86_64/mldsa/native/x86_64/src/rej_uniform_table.c mldsa-native_ml-dsa-87_x86_64/mldsa/ntt.c mldsa-native_ml-dsa-87_x86_64/mldsa/packing.c mldsa-native_ml-dsa-87_x86_64/mldsa/poly.c mldsa-native_ml-dsa-87_x86_64/mldsa/polyvec.c mldsa-native_ml-dsa-87_x86_64/mldsa/sign.c)
    target_include_directories(ml_dsa_87_x86_64 PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-87_x86_64)
    target_include_directories(ml_dsa_87_x86_64 PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_87_x86_64 PRIVATE -mavx2 -mpopcnt)
    target_compile_options(ml_dsa_87_x86_64 PUBLIC -DMLDSA_MODE=5 -DMLD_CONFIG_FILE="../integration/liboqs/config_x86_64.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_87_x86_64>)
endif()

if(OQS_ENABLE_SIG_ml_dsa_87_aarch64)
    add_library(ml_dsa_87_aarch64 OBJECT mldsa-native_ml-dsa-87_aarch64/mldsa/ct.c mldsa-native_ml-dsa-87_aarch64/mldsa/debug.c mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/aarch64_zetas.c mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/intt.S mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/ntt.S mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/poly_decompose_32_asm.S mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/poly_decompose_88_asm.S mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/rej_uniform_asm.S mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/rej_uniform_eta2_asm.S mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/rej_uniform_eta4_asm.S mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/rej_uniform_eta_table.c mldsa-native_ml-dsa-87_aarch64/mldsa/native/aarch64/src/rej_uniform_table.c mldsa-native_ml-dsa-87_aarch64/mldsa/ntt.c mldsa-native_ml-dsa-87_aarch64/mldsa/packing.c mldsa-native_ml-dsa-87_aarch64/mldsa/poly.c mldsa-native_ml-dsa-87_aarch64/mldsa/polyvec.c mldsa-native_ml-dsa-87_aarch64/mldsa/sign.c)
    target_include_directories(ml_dsa_87_aarch64 PRIVATE ${CMAKE_CURRENT_LIST_DIR}/mldsa-native_ml-dsa-87_aarch64)
    target_include_directories(ml_dsa_87_aarch64 PRIVATE ${PROJECT_SOURCE_DIR}/src/common/pqclean_shims)
    target_compile_options(ml_dsa_87_aarch64 PRIVATE)
    target_compile_options(ml_dsa_87_aarch64 PUBLIC -DMLDSA_MODE=5 -DMLD_CONFIG_FILE="../integration/liboqs/config_aarch64.h")
    set(_ML_DSA_OBJS ${_ML_DSA_OBJS} $<TARGET_OBJECTS:ml_dsa_87_aarch64>)
endif()

set(ML_DSA_OBJS ${_ML_DSA_OBJS} PARENT_SCOPE)
